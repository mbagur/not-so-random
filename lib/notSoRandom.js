!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("notSoRandom",[],t):"object"==typeof exports?exports.notSoRandom=t():e.notSoRandom=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function o(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function n(e,t){for(var r=0;r<t.length;++r){var n=e.filter(t[r].test);c[r]={possibles:n,exclusives:n,count:t[r].count}}for(var r=0;r<t.length;++r){for(var s=0;s<t.length;++s)r!=s&&(c[r].exclusives=o(c[r].exclusives,c[s].possibles));if(c[r].trustScore=c[r].exclusives.length-c[r].count,0==i.length||i[0].trustScore>=c[r].trustScore)i.splice(0,0,{i:r,trustScore:c[r].trustScore});else if(i[i.length-1].trustScore<=c[r].trustScore)i.push({i:r,trustScore:c[r].trustScore});else for(var u=0;u<i.length-1;u++)if(i[u].trustScore<=c[r].trustScore&&i[u+1].trustScore>=c[r].trustScore){i.splice(u,0,{i:r,trustScore:c[r].trustScore});break}}}function s(e,t){var r=[];return i.forEach(function(e){var t=c[e.i];r.forEach(function(e){var r=t.possibles.indexOf(e);r>=0&&t.possibles.splice(r,1)});for(var o=0;o<t.count;++o){if(0==t.possibles.length)throw new Error("Impossible to extract enough matches for rule "+e.i);var n=Math.floor(Math.random()*t.possibles.length),s=t.possibles[n];r.push(s),t.possibles.splice(n,1)}}),r}function u(e,t){return c={},i=[],n(e,t),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var c={},i=[];t.default=u}])});